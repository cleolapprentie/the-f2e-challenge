(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61fae372"],{"016b":function(t,e,n){"use strict";var r=n("9e4f"),i=n.n(r);i.a},"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?o(t):i(r(t))}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,a=n("1dde"),s=n("ae40"),o=a("filter"),c=s("filter");r({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),a=n("e538"),s=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:a.f(t)})}},"826e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAABBNJREFUaEPtWk2S00YU/p5kqoZVuEHgBGhi7/EsUiWvMFsKG3MCZk6QyQnGnABjU2wxK7uKBZq9DcoJQm5AVjNVkfSl2jMCWVarWxo7Va6Mtmq9ft973/u1BXv+yJ7rj50BaHX6zBpnMRvv5K6dCFWK3wKw5PatB1JDef7gvovkkQg9EB5E2mtGJAMIQlLCGM55OB99tTRy6bEbe6Dp959D2BVIt4pCBKegTJfz8Zsq3+XP1gbQ8p+1Ic4ZAO8mCgAIweRkMX8b1JFTC0Cr0zsD5LjOhfpvOFzMJidVZVYC4LUH9xoH8fsNfl/fSvIPCkYOGUZx8i38+C5Ur7xfn3oN17kHOG2CXRF5WKgoGUSX7pMwGH2zBWINYKX83eRTEWVIvInhnNoG5nXAn4rgeYGiYXThHNmCsAbQ8nuf8pYn+JeQg7r8VXFEkZFAfs5nrMV8cmTjBSsAzU5/KMDLdYE8jy7crq2ldMpceTaeAvIoe4bAq+VsbIwzI4DrbKOok3l4vphN1vO8jblKzrQ6vSAPAkyOTN41A+j0v2R5r2gTX7jeTS2fx6I84d6NwxydwsVsfFhmm1IAv/i9gSPyet345VZRAdqQ+CWwqsRpjQgBBhHdV2WBXuRtInmynL2d6kCUAmj6vamIPE4/VtlmOR8PdMLs6kN5vm/6/VE2O5H8sJxPtFVeC+DKksmfWWUjOg90FmzlqGYICS01qt6rBZCnjypSy/mksG0ozlLlEMqyTNPvhdlil5AvPs8noyKJWgB5pRLw5PNsMtwIvgJP2SYknUdbfv8Ugt++U7ckpWoBbKQ1TUqrY32TYpvBrE/b3wHkR8C8FaMoOkx7m+y7itzPiy2MhVXv1Gio9K190hnbGoBuKDcBN9Gprtz/HwAdhfIZw2TxtYZEk9lqUSh/8d4FcR7A3qfRgj5IWz3rpNKyQpbPbLUKWdWSXiUWyqp61Xu32szZeMI0qDQ7vffZFU3tZk7FRN122pXkGGQ77WeUxSESxHSG/2k7rUDkqUHia3zpHO5koDlIvojg/o+EYp78zBPZ1QJrfaQkA9uh27YuFLYk2xgpV14oGupr7HCKwOjWNaZYSWUZPZAeLBq6FZ0EyQvT4K2d4NRaBc7rddqo02bqVAawGroP4qBoq0ZyFMP9vdJiS+KzooWwCvj40m3bxpi1BxRi3Q4nY+EQxFSEwT9R/Hd2tXin4f5EShsCNd9qFsLVd02VAKSK2uR72+A1DTcmObUAKKGrtSBkqF3Umm6+fq8oI+Bx3TiqDeCHN551QRlk1y82uqsKC+GobOdjI+fGANJLVA/jIFbV1xPQ21gTgueEhCTDBG5gG/AmEFsDsDlP3P5ObDL+6v2tB7RVdt//amDl/y0c2hmFtqCblYh/ATxQl0971WcLAAAAAElFTkSuQmCC"},8880:function(t,e,n){},"9e4f":function(t,e,n){},a3c5:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-page",style:t.isMobile?"":{height:t.frameHeight+"px","overflow-y":"auto"}},[n("div",{staticClass:"location-bar",class:["location-bar",t.isLoading?"disabled":""],on:{click:function(e){return t.$router.push({name:"search"})}}},[t.userStatus?"LOCATE_BY_LATLNG"===t.userStatus?n("p",{staticClass:"location"},[t._v("目前位置")]):n("p",{staticClass:"location"},[t._v(t._s(t.userStatus))]):n("p",{staticClass:"location"},[t._v("請選擇欲查找的區域")]),t._m(0)]),n("div",{staticClass:"content"},[n("div",{staticClass:"status"},[n("span",[t._v(t._s(t.state.status))]),t._v(" 購買日")]),n("div",{staticClass:"help"},[n("div",{staticClass:"icon"},[t._v("?")]),n("div",{staticClass:"tooltip"},[t._v(" 身分證末一碼為 "+t._s("雙數"===t.state.status?"奇數或偶數":t.state.status)),n("br"),t._v(" 可以在此天購買口罩 ")])])]),n("div",{staticClass:"info"},[n("div",[t._v(" 距離方圓 1 公里 以內的供應商 "),n("br"),t._v(" 資訊更新時間 "+t._s(t.lastUpdatedTime)+" ")]),n("div",{staticClass:"refresh"},[n("div",{class:["btn",t.dataFiltered?"":"disabled"],on:{click:t.getData}},[t._v(" 重整列表 ")])])]),t.isLoading?n("div",{staticClass:"loading"},[t.errMsg?n("p",[t._v(t._s(t.errMsg))]):n("p",[t._v("Loading...")])]):n("div",{staticClass:"mask-list"},[n("div",{staticClass:"filter"},[t._m(1),n("div",{class:["filter-btn","distance"===t.state.sort?"active":""],on:{click:function(e){t.state.sort="distance"}}},[t._v("依距離")]),n("div",{class:["filter-btn","stock"===t.state.sort?"active":""],on:{click:function(e){t.state.sort="stock"}}},[t._v("依成人口罩數目")])]),t._l(t.dataFiltered,(function(e){return n("div",{key:e.properties.id},[n("ListCard",{attrs:{item:e},on:{showPosition:t.showPosition}})],1)})),t.state.isMore?n("div",{staticClass:"see-more"},[n("p",[t._v("尚有 "+t._s(t.state.remained)+" 筆")]),n("div",{staticClass:"btn",on:{click:function(e){t.state.page+=1}}},[t._v("查看更多")])]):t._e()],2),n("TopButton")],1)},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"locate-btn"},[r("img",{attrs:{src:n("826e"),draggable:"false"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter-icon"},[n("i",{staticClass:"fas fa-sort-amount-down-alt"})])}];n("a4d3"),n("4de4"),n("4160"),n("fb6a"),n("e439"),n("dbb4"),n("b64b"),n("159b");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n("750b"),o=n("bb71"),c=n("2f62"),u=n("61da"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.state.isShow?n("div",{class:["to-top",t.state.isPin?"":"sticky",t.isMobile?"":"pc"],on:{click:t.scrollToTop}},[t._v(" TOP ")]):t._e()])},f=[],d=null,v={setup:function(t,e){Object(s["d"])((function(){d=r.value?window:e.parent.$el,a()})),Object(s["c"])((function(){d.removeEventListener("scroll",i)}));var n=Object(s["f"])({isPin:!0,isShow:!1,styleFix:""}),r=Object(s["a"])((function(){return e.root.$store.state.isMobile}));function i(){var t=r.value?window.pageYOffset:e.parent.$el.scrollTop;n.isShow=t>100,a()}function a(){if(!r.value)return!1;var t=document.querySelector(".footer"),e=t?t.offsetHeight:0,i=window.pageYOffset;i>=document.body.scrollHeight-window.innerHeight-e?n.isPin=!1:n.isPin=!0}function o(){var t=r.value?window.pageYOffset:e.parent.$el.scrollTop,n=8,i=t-t/n;d.scrollTo(0,i),t>0&&requestAnimationFrame(o)}return Object(s["h"])((function(){d.removeEventListener("scroll",i),d=r.value?window:e.parent.$el,d.addEventListener("scroll",i)})),{state:n,scrollToTop:o,isMobile:r}}},p=v,b=(n("d7a3"),n("2877")),g=Object(b["a"])(p,l,f,!1,null,null,null),m=g.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",on:{click:t.clickHandler}},[n("div",{staticClass:"card__stock"},[n("div",{class:["stock",t.item.properties.mask_adult>100?"green":t.item.properties.mask_adult>0?"orange":"gray"]},[n("div",{staticClass:"title"},[t._v("成人口罩數量")]),n("div",{staticClass:"quantity"},[t._v(t._s(t.item.properties.mask_adult)),n("span",[t._v("片")])])]),n("div",{class:["stock",t.item.properties.mask_child>100?"green":t.item.properties.mask_child>0?"orange":"gray"]},[n("div",{staticClass:"title"},[t._v("兒童口罩數量")]),n("div",{staticClass:"quantity"},[t._v(t._s(t.item.properties.mask_child)),n("span",[t._v("片")])])])]),n("div",{staticClass:"card__storeInfo"},[n("div",{staticClass:"store-name"},[n("div",[t._v(t._s(t.item.properties.name)+" "),n("span",{staticClass:"distance"},[t._v(t._s(t.distance.toFixed(2))+" km")])])]),n("div",{staticClass:"store-info"},[n("div",{staticClass:"title"},[t._v("地址")]),n("div",{staticClass:"content"},[t._v(t._s(t.item.properties.address))]),n("div",{staticClass:"tool"},[n("a",{attrs:{href:"http://maps.google.com/?q="+t.item.properties.name,target:"_blank"}},[t._v("於地圖查看")])])]),n("div",{staticClass:"store-info"},[n("div",{staticClass:"title"},[t._v("電話")]),n("div",{staticClass:"content"},[t._v(t._s(t.item.properties.phone))]),n("div",{staticClass:"tool"},[n("a",{attrs:{href:"tel:"+t.item.properties.phone}},[t._v("撥打電話")])])])])])},O=[],y=(n("99af"),{props:{item:{required:!0}},setup:function(t,e){var n=e.root,r=e.emit;Object(s["d"])((function(){})),Object(s["c"])((function(){c.value=null}));var i=Object(s["a"])((function(){return n.$store.state.isMobile})),a=Object(s["a"])((function(){return n.$store.state.location})),c=Object(s["g"])(Object(o["a"])(a.value.latitude,a.value.longitude,t.item.geometry.coordinates[1],t.item.geometry.coordinates[0]));function u(t,e){var n="http://maps.google.com/?q=";return"".concat(n).concat(t,",").concat(e)}function l(e){var n=t.item.geometry.coordinates;if(i.value)return!1;r("showPosition",t.item.properties.id,{lat:n[1],lng:n[0]})}return{location:a,isMobile:i,distance:c,seeOnMap:u,clickHandler:l}}}),j=y,w=(n("ffb6"),Object(b["a"])(j,h,O,!1,null,null,null)),_=w.exports;function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var A={components:{TopButton:m,ListCard:_},setup:function(t,e){var n=e.root,r=(e.emit,e.parent);Object(s["d"])((function(){l.status=A()})),Object(s["c"])((function(){}));var i=Object(s["a"])((function(){return r.header.$el.offsetHeight})),a=Object(s["a"])((function(){return r.footer.offsetHeight})),c=Object(s["a"])((function(){return window.innerHeight-i.value-a.value})),l=Object(s["f"])({status:"雙數",page:1,max:20,range:2,isMore:!1,sort:"distance",remained:0,modalOpen:!1}),f=Object(s["a"])((function(){return n.$store.state.maskData})),d=Object(s["a"])((function(){return n.$store.state.location})),v=Object(s["a"])((function(){return n.$store.state.isLoading})),p=Object(s["a"])((function(){return n.$store.state.isMobile})),b=Object(s["a"])((function(){return n.$store.state.errMsg})),g=Object(s["a"])((function(){return n.$store.state.lastUpdated})),m=Object(s["a"])((function(){return n.$store.state.status})),h=Object(s["a"])((function(){return w(O.value,l.range,l.page)})),O=Object(s["a"])((function(){return _(y.value,l.sort)})),y=Object(s["g"])(null);function j(t,e){if(!f.value.features)return!1;var n=f.value.features.filter((function(e){var n=d.value,r=n.longitude,i=n.latitude;return Object(o["a"])(i,r,e.geometry.coordinates[1],e.geometry.coordinates[0])<=t}));return n}Object(s["h"])(d,(function(t,e){d.value.latitude&&(l.page=1,y.value=null,y.value=j(l.range,l.page))}));var w=function(t,e,n){if(!t)return!1;var r=t.slice(0,n*l.max);return r.length<t.length?(l.isMore=!0,l.remained=t.length-r.length):(l.isMore=!1,l.remained=0),r};function _(t,e){var n={distance:k,stock:C};return!!t&&n[e](t)}function C(t){return t.sort((function(t,e){return t.properties.mask_adult<e.properties.mask_adult?1:-1}))}function k(t){var e=d.value,n=e.longitude,r=e.latitude;return t.sort((function(t,e){var i=Object(o["a"])(r,n,t.geometry.coordinates[1],t.geometry.coordinates[0]),a=Object(o["a"])(r,n,e.geometry.coordinates[1],e.geometry.coordinates[0]);return i>a?1:-1}))}function A(){var t=(new Date).getDay();return 0===t?"雙數":t%2!==0?"奇數":"偶數"}function P(t,e){u["a"].$emit("showPos",t,e)}return{state:l,location:d,userStatus:m,dataFiltered:h,lastUpdatedTime:g,isLoading:v,isMobile:p,errMsg:b,showPosition:P,frameHeight:c}},methods:k({},Object(c["b"])(["getLocation","getData","setDataCache"]))},P=A,S=(n("016b"),Object(b["a"])(P,r,i,!1,null,"ae115354",null));e["default"]=S.exports},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("d066"),s=n("c430"),o=n("83ab"),c=n("4930"),u=n("fdbf"),l=n("d039"),f=n("5135"),d=n("e8b5"),v=n("861d"),p=n("825a"),b=n("7b0b"),g=n("fc6a"),m=n("c04e"),h=n("5c6c"),O=n("7c73"),y=n("df75"),j=n("241c"),w=n("057f"),_=n("7418"),C=n("06cf"),k=n("9bf2"),A=n("d1e7"),P=n("9112"),S=n("6eeb"),E=n("5692"),B=n("f772"),T=n("d012"),M=n("90e3"),q=n("b622"),D=n("e538"),F=n("746f"),x=n("d44e"),U=n("69f3"),H=n("b727").forEach,L=B("hidden"),N="Symbol",G="prototype",I=q("toPrimitive"),K=U.set,V=U.getterFor(N),Q=Object[G],W=i.Symbol,Y=a("JSON","stringify"),R=C.f,$=k.f,Z=w.f,J=A.f,X=E("symbols"),z=E("op-symbols"),tt=E("string-to-symbol-registry"),et=E("symbol-to-string-registry"),nt=E("wks"),rt=i.QObject,it=!rt||!rt[G]||!rt[G].findChild,at=o&&l((function(){return 7!=O($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=R(Q,e);r&&delete Q[e],$(t,e,n),r&&t!==Q&&$(Q,e,r)}:$,st=function(t,e){var n=X[t]=O(W[G]);return K(n,{type:N,tag:t,description:e}),o||(n.description=e),n},ot=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},ct=function(t,e,n){t===Q&&ct(z,e,n),p(t);var r=m(e,!0);return p(n),f(X,r)?(n.enumerable?(f(t,L)&&t[L][r]&&(t[L][r]=!1),n=O(n,{enumerable:h(0,!1)})):(f(t,L)||$(t,L,h(1,{})),t[L][r]=!0),at(t,r,n)):$(t,r,n)},ut=function(t,e){p(t);var n=g(e),r=y(n).concat(pt(n));return H(r,(function(e){o&&!ft.call(n,e)||ct(t,e,n[e])})),t},lt=function(t,e){return void 0===e?O(t):ut(O(t),e)},ft=function(t){var e=m(t,!0),n=J.call(this,e);return!(this===Q&&f(X,e)&&!f(z,e))&&(!(n||!f(this,e)||!f(X,e)||f(this,L)&&this[L][e])||n)},dt=function(t,e){var n=g(t),r=m(e,!0);if(n!==Q||!f(X,r)||f(z,r)){var i=R(n,r);return!i||!f(X,r)||f(n,L)&&n[L][r]||(i.enumerable=!0),i}},vt=function(t){var e=Z(g(t)),n=[];return H(e,(function(t){f(X,t)||f(T,t)||n.push(t)})),n},pt=function(t){var e=t===Q,n=Z(e?z:g(t)),r=[];return H(n,(function(t){!f(X,t)||e&&!f(Q,t)||r.push(X[t])})),r};if(c||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),n=function(t){this===Q&&n.call(z,t),f(this,L)&&f(this[L],e)&&(this[L][e]=!1),at(this,e,h(1,t))};return o&&it&&at(Q,e,{configurable:!0,set:n}),st(e,t)},S(W[G],"toString",(function(){return V(this).tag})),S(W,"withoutSetter",(function(t){return st(M(t),t)})),A.f=ft,k.f=ct,C.f=dt,j.f=w.f=vt,_.f=pt,D.f=function(t){return st(q(t),t)},o&&($(W[G],"description",{configurable:!0,get:function(){return V(this).description}}),s||S(Q,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),H(y(nt),(function(t){F(t)})),r({target:N,stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var n=W(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!o},{create:lt,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:vt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:l((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(b(t))}}),Y){var bt=!c||l((function(){var t=W();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));r({target:"JSON",stat:!0,forced:bt},{stringify:function(t,e,n){var r,i=[t],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=e,(v(e)||void 0!==t)&&!ot(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),i[1]=e,Y.apply(null,i)}})}W[G][I]||P(W[G],I,W[G].valueOf),x(W,N),T[L]=!0},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),a=n("df75"),s=n("d039"),o=s((function(){a(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(t){return a(i(t))}})},d7a3:function(t,e,n){"use strict";var r=n("f59b"),i=n.n(r);i.a},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),a=n("56ef"),s=n("fc6a"),o=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=s(t),i=o.f,u=a(r),l={},f=0;while(u.length>f)n=i(r,e=u[f++]),void 0!==n&&c(l,e,n);return l}})},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),a=n("fc6a"),s=n("06cf").f,o=n("83ab"),c=i((function(){s(1)})),u=!o||c;r({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return s(a(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},f59b:function(t,e,n){},ffb6:function(t,e,n){"use strict";var r=n("8880"),i=n.n(r);i.a}}]);
//# sourceMappingURL=chunk-61fae372.3f5a9501.js.map