(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d16c31d"],{1368:function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(e,n){t.exports=n()})(0,(function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function r(t){return"function"===typeof t}var i=void 0;i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var o=i,s=0,a=void 0,c=void 0,u=function(t,e){w[s]=t,w[s+1]=e,s+=2,2===s&&(c?c(C):k())};function l(t){c=t}function f(t){u=t}var d="undefined"!==typeof window?window:void 0,h=d||{},p=h.MutationObserver||h.WebKitMutationObserver,v="undefined"===typeof self&&"undefined"!==typeof e&&"[object process]"==={}.toString.call(e),m="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function g(){return function(){return e.nextTick(C)}}function y(){return"undefined"!==typeof a?function(){a(C)}:_()}function A(){var t=0,e=new p(C),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function b(){var t=new MessageChannel;return t.port1.onmessage=C,function(){return t.port2.postMessage(0)}}function _(){var t=setTimeout;return function(){return t(C,1)}}var w=new Array(1e3);function C(){for(var t=0;t<s;t+=2){var e=w[t],n=w[t+1];e(n),w[t]=void 0,w[t+1]=void 0}s=0}function S(){try{var t=Function("return this")().require("vertx");return a=t.runOnLoop||t.runOnContext,y()}catch(e){return _()}}var k=void 0;function E(t,e){var n=this,r=new this.constructor(O);void 0===r[x]&&J(r);var i=n._state;if(i){var o=arguments[i-1];u((function(){return H(i,r,o,n._result)}))}else V(n,r,t,e);return r}function T(t){var e=this;if(t&&"object"===typeof t&&t.constructor===e)return t;var n=new e(O);return q(n,t),n}k=v?g():p?A():m?b():void 0===d?S():_();var x=Math.random().toString(36).substring(2);function O(){}var j=void 0,B=1,P=2;function K(){return new TypeError("You cannot resolve a promise with itself")}function I(){return new TypeError("A promises callback cannot return that same promise.")}function M(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function F(t,e,n){u((function(t){var r=!1,i=M(n,e,(function(n){r||(r=!0,e!==n?q(t,n):R(t,n))}),(function(e){r||(r=!0,L(t,e))}),"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,L(t,i))}),t)}function N(t,e){e._state===B?R(t,e._result):e._state===P?L(t,e._result):V(e,void 0,(function(e){return q(t,e)}),(function(e){return L(t,e)}))}function U(t,e,n){e.constructor===t.constructor&&n===E&&e.constructor.resolve===T?N(t,e):void 0===n?R(t,e):r(n)?F(t,e,n):R(t,e)}function q(e,n){if(e===n)L(e,K());else if(t(n)){var r=void 0;try{r=n.then}catch(i){return void L(e,i)}U(e,n,r)}else R(e,n)}function G(t){t._onerror&&t._onerror(t._result),Q(t)}function R(t,e){t._state===j&&(t._result=e,t._state=B,0!==t._subscribers.length&&u(Q,t))}function L(t,e){t._state===j&&(t._state=P,t._result=e,u(G,t))}function V(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+B]=n,i[o+P]=r,0===o&&t._state&&u(Q,t)}function Q(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?H(n,r,i,o):i(o);t._subscribers.length=0}}function H(t,e,n,i){var o=r(n),s=void 0,a=void 0,c=!0;if(o){try{s=n(i)}catch(u){c=!1,a=u}if(e===s)return void L(e,I())}else s=i;e._state!==j||(o&&c?q(e,s):!1===c?L(e,a):t===B?R(e,s):t===P&&L(e,s))}function W(t,e){try{e((function(e){q(t,e)}),(function(e){L(t,e)}))}catch(n){L(t,n)}}var Y=0;function D(){return Y++}function J(t){t[x]=Y++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(O),this.promise[x]||J(this.promise),o(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&R(this.promise,this._result))):L(this.promise,Z())}return t.prototype._enumerate=function(t){for(var e=0;this._state===j&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===T){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(c){s=!0,o=c}if(i===E&&t._state!==j)this._settledAt(t._state,e,t._result);else if("function"!==typeof i)this._remaining--,this._result[e]=t;else if(n===rt){var a=new n(O);s?L(a,o):U(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===j&&(this._remaining--,t===P?L(r,n):this._result[e]=n),0===this._remaining&&R(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;V(t,void 0,(function(t){return n._settledAt(B,e,t)}),(function(t){return n._settledAt(P,e,t)}))},t}();function X(t){return new z(this,t).promise}function $(t){var e=this;return o(t)?new e((function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))}function tt(t){var e=this,n=new e(O);return L(n,t),n}function et(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function nt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var rt=function(){function t(e){this[x]=D(),this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!==typeof e&&et(),this instanceof t?W(this,e):nt())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,n=e.constructor;return r(t)?e.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):e.then(t,t)},t}();function it(){var t=void 0;if("undefined"!==typeof n)t=n;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(i){}if("[object Promise]"===r&&!e.cast)return}t.Promise=rt}return rt.prototype.then=E,rt.all=X,rt.race=$,rt.resolve=T,rt.reject=tt,rt._setScheduler=l,rt._setAsap=f,rt._asap=u,rt.polyfill=it,rt.Promise=rt,rt}))}).call(this,n("4362"),n("c8ba"))},"2d3b":function(t,e,n){"use strict";n.r(e);var r,i,o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search"},[r("div",{staticClass:"search__bar"},[r("div",{staticClass:"back",on:{click:function(e){return t.$router.push({name:"list"})}}},[r("span",{staticClass:"dash top"}),r("span",{staticClass:"dash bottom"})]),r("div",{staticClass:"input-area"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.address,expression:"address",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:"請輸入地址或區域"},domProps:{value:t.address},on:{blur:[function(e){t.state.isFocus=!1},function(e){return t.$forceUpdate()}],focus:function(e){t.state.isFocus=!0,t.state.isPasted=!1},input:function(e){e.target.composing||(t.address=e.target.value.trim())}}}),t.address?r("div",{staticClass:"cancel-icon",on:{click:t.cancel}},[r("i",{staticClass:"fas fa-times"})]):t._e()]),r("div",{staticClass:"locate-icon",on:{click:t.search}},[r("i",{staticClass:"fas fa-map-marker-alt"})])]),r("div",{staticClass:"search__history"},[r("div",{staticClass:"history__header"},[r("div",{staticClass:"title"},[t._v("最近搜尋")]),r("div",{staticClass:"clear",on:{click:t.clearHistory}},[t._v("清除")])]),r("transition-group",{staticClass:"history__list",attrs:{name:"list",tag:"ul"}},t._l(t.history,(function(e,n){return r("li",{key:n,on:{click:function(n){t.address=e,t.state.isPasted=!0}}},[t._v(t._s(e))])})),0)],1),r("div",{staticClass:"locate"},[r("p",[t._v("使用目前位置")]),r("div",{staticClass:"icon",on:{click:t.locateByLatLng}},[r("img",{attrs:{src:n("826e"),draggable:"false"}})])])])},s=[],a=(n("a434"),n("d3b7"),n("96cf"),n("1da1")),c=n("750b"),u=n("f464"),l=n.n(u),f={setup:function(t,e){Object(c["d"])(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l()({apiKey:"AIzaSyDuABb63Waunx22fh_JSS8nNEHlxDh0dRQ"});case 2:r=t.sent,i=new r.maps.Geocoder,s.value=JSON.parse(localStorage.getItem("searchHistory"))||[];case 5:case"end":return t.stop()}}),t)})))),Object(c["e"])((function(){}));var n=Object(c["a"])((function(){return e.root.$store.state.location})),o=Object(c["g"])(null),s=Object(c["g"])(null),u=Object(c["f"])({isFocus:!1,isPasted:!1});function f(){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o.value){t.next=2;break}return t.abrupt("return",!1);case 2:if(!(s.value.length>4)){t.next=5;break}return t.next=5,h(s.value);case 5:u.isPasted||(s.value.push(o.value),localStorage.setItem("searchHistory",JSON.stringify(s.value))),p(o.value),setTimeout((function(){e.root.$router.push({name:"list"})}),1e3);case 8:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function h(t){return new Promise((function(e,n){setTimeout((function(){t.splice(0,1),e()}),100)}))}function p(t){i.geocode({address:t},(function(n,i){if(i===r.maps.GeocoderStatus.OK){var o=n[0].geometry.location,s=o.lat,a=o.lng;e.root.$store.commit("SET_LOCATION",{latitude:s(),longitude:a()}),e.root.$store.commit("SET_STATUS",t)}else alert("".concat(i))}))}function v(){e.root.$store.dispatch("getLocation"),e.root.$store.commit("SET_STATUS","LOCATE_BY_LATLNG"),e.root.$router.push({name:"list"})}function m(){o.value=""}function g(){s.value=[],localStorage.setItem("searchHistory",JSON.stringify(s.value))}return{state:u,address:o,coords:n,search:f,history:s,locateByAddress:p,locateByLatLng:v,clearHistory:g,cancel:m}}},d=f,h=(n("3de7"),n("2877")),p=Object(h["a"])(d,o,s,!1,null,null,null);e["default"]=p.exports},"32c8":function(t,e,n){"use strict";function r(t){var e=t.base;return e+="?",t.apiKey&&(e+="key="+t.apiKey+"&"),t.client&&(e+="client="+t.client+"&"),t.libraries.length>0&&(e+="libraries=",t.libraries.forEach((function(n,r){e+=n,r!==t.libraries.length-1&&(e+=",")})),e+="&"),t.language&&(e+="language="+t.language+"&"),t.version&&(e+="v="+t.version+"&"),e+="callback="+t.callback,e}t.exports=r},"3de7":function(t,e,n){"use strict";var r=n("c371"),i=n.n(r);i.a},"826e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAABBNJREFUaEPtWk2S00YU/p5kqoZVuEHgBGhi7/EsUiWvMFsKG3MCZk6QyQnGnABjU2wxK7uKBZq9DcoJQm5AVjNVkfSl2jMCWVarWxo7Va6Mtmq9ft973/u1BXv+yJ7rj50BaHX6zBpnMRvv5K6dCFWK3wKw5PatB1JDef7gvovkkQg9EB5E2mtGJAMIQlLCGM55OB99tTRy6bEbe6Dp959D2BVIt4pCBKegTJfz8Zsq3+XP1gbQ8p+1Ic4ZAO8mCgAIweRkMX8b1JFTC0Cr0zsD5LjOhfpvOFzMJidVZVYC4LUH9xoH8fsNfl/fSvIPCkYOGUZx8i38+C5Ur7xfn3oN17kHOG2CXRF5WKgoGUSX7pMwGH2zBWINYKX83eRTEWVIvInhnNoG5nXAn4rgeYGiYXThHNmCsAbQ8nuf8pYn+JeQg7r8VXFEkZFAfs5nrMV8cmTjBSsAzU5/KMDLdYE8jy7crq2ldMpceTaeAvIoe4bAq+VsbIwzI4DrbKOok3l4vphN1vO8jblKzrQ6vSAPAkyOTN41A+j0v2R5r2gTX7jeTS2fx6I84d6NwxydwsVsfFhmm1IAv/i9gSPyet345VZRAdqQ+CWwqsRpjQgBBhHdV2WBXuRtInmynL2d6kCUAmj6vamIPE4/VtlmOR8PdMLs6kN5vm/6/VE2O5H8sJxPtFVeC+DKksmfWWUjOg90FmzlqGYICS01qt6rBZCnjypSy/mksG0ozlLlEMqyTNPvhdlil5AvPs8noyKJWgB5pRLw5PNsMtwIvgJP2SYknUdbfv8Ugt++U7ckpWoBbKQ1TUqrY32TYpvBrE/b3wHkR8C8FaMoOkx7m+y7itzPiy2MhVXv1Gio9K190hnbGoBuKDcBN9Gprtz/HwAdhfIZw2TxtYZEk9lqUSh/8d4FcR7A3qfRgj5IWz3rpNKyQpbPbLUKWdWSXiUWyqp61Xu32szZeMI0qDQ7vffZFU3tZk7FRN122pXkGGQ77WeUxSESxHSG/2k7rUDkqUHia3zpHO5koDlIvojg/o+EYp78zBPZ1QJrfaQkA9uh27YuFLYk2xgpV14oGupr7HCKwOjWNaZYSWUZPZAeLBq6FZ0EyQvT4K2d4NRaBc7rddqo02bqVAawGroP4qBoq0ZyFMP9vdJiS+KzooWwCvj40m3bxpi1BxRi3Q4nY+EQxFSEwT9R/Hd2tXin4f5EShsCNd9qFsLVd02VAKSK2uR72+A1DTcmObUAKKGrtSBkqF3Umm6+fq8oI+Bx3TiqDeCHN551QRlk1y82uqsKC+GobOdjI+fGANJLVA/jIFbV1xPQ21gTgueEhCTDBG5gG/AmEFsDsDlP3P5ObDL+6v2tB7RVdt//amDl/y0c2hmFtqCblYh/ATxQl0971WcLAAAAAElFTkSuQmCC"},a434:function(t,e,n){"use strict";var r=n("23e7"),i=n("23cb"),o=n("a691"),s=n("50c4"),a=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),f=n("ae40"),d=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!h},{splice:function(t,e){var n,r,l,f,d,h,y=a(this),A=s(y.length),b=i(t,A),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=A-b):(n=_-2,r=v(p(o(e),0),A-b)),A+n-r>m)throw TypeError(g);for(l=c(y,r),f=0;f<r;f++)d=b+f,d in y&&u(l,f,y[d]);if(l.length=r,n<r){for(f=b;f<A-r;f++)d=f+r,h=f+n,d in y?y[h]=y[d]:delete y[h];for(f=A;f>A-r+n;f--)delete y[f-1]}else if(n>r)for(f=A-r;f>b;f--)d=f+r-1,h=f+n-1,d in y?y[h]=y[d]:delete y[h];for(f=0;f<n;f++)y[f+b]=arguments[f+2];return y.length=A-r+n,l}})},c371:function(t,e,n){},e099:function(t,e,n){"use strict";var r,i=n("1368").Promise,o=n("32c8");function s(t){var e=document.createElement("script");e.type="text/javascript",e.src=o({base:"https://maps.googleapis.com/maps/api/js",libraries:t.libraries||[],callback:"googleMapsAutoCompleteAPILoad",apiKey:t.apiKey,client:t.client,language:t.language,version:t.version}),document.querySelector("head").appendChild(e)}function a(t){return r?i.resolve(r):new i((function(e,n){s(t),window.googleMapsAutoCompleteAPILoad=function(){r=window.google,e(r)},setTimeout((function(){window.google||n(new Error("Loading took too long"))}),5e3)}))}t.exports=a},f464:function(t,e,n){t.exports=n("e099")}}]);
//# sourceMappingURL=chunk-6d16c31d.8191ec46.js.map